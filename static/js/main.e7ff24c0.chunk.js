(this["webpackJsonpgithub-search"]=this["webpackJsonpgithub-search"]||[]).push([[0],{128:function(e,t,a){e.exports=a(237)},133:function(e,t,a){},134:function(e,t,a){},237:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(5),l=a.n(c),o=a(22),s=a(239),u=(a(133),a(134),a(135),a(123)),i=(a(137),a(125)),m=(a(87),a(28)),d=(a(140),a(116)),p=(a(142),a(84)),f=a(41),b=a(44),h=a(238),y=a(46),E=a.n(y),g=(a(145),a(83)),x=a(79),v=a(85),w=a(47),k=a(61),O=a.n(k),N=O.a.create({baseURL:"https://api.github.com"});N.CancelToken=O.a.CancelToken,N.isCancel=O.a.isCancel;var j=N,C="loading",S="success",_="error",L="LOAD",R="LOAD_SUCCESS",D="LOAD_ERROR",T="LOAD_MORE_SUCCESS",A=function(e,t){switch(t.type){case L:return Object(w.a)({},e,{status:C});case R:return Object(w.a)({},e,{status:S,data:t.payload.data,total:t.payload.total});case D:return Object(w.a)({},e,{status:_});case T:return Object(w.a)({},e,{status:S,data:[].concat(Object(v.a)(e.data),Object(v.a)(t.payload.data)),total:t.payload.total});default:return e}},M=function(e){var t=Object(n.useReducer)(A,{status:S,data:[],total:0}),a=Object(f.a)(t,2),r=a[0],c=a[1],l=Object(n.useState)(null),o=Object(f.a)(l,2),s=o[0],u=o[1];function i(){return(i=Object(x.a)(E.a.mark((function e(t){var a,n,r,l;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==t.trim()){e.next=3;break}return e.abrupt("return",g.a.warning("Please enter some keyword to search"));case 3:return null!==s&&s.cancel(),c({type:L}),a=j.CancelToken,n=a.source(),u(n),e.next=10,j.get("/search/users?q=".concat(t),{cancelToken:n.token});case 10:r=e.sent,l=r.data,c({type:R,payload:{data:l.items,total:l.total_count}}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0),c({type:D});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function m(){return(m=Object(x.a)(E.a.mark((function t(){var a,n,l;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,""!==e.trim()){t.next=3;break}return t.abrupt("return",g.a.warning("Keyword not found"));case 3:return a=Math.floor(r.data.length/30)+1,c({type:L}),t.next=7,j.get("/search/users?q=".concat(e,"&page=").concat(a));case 7:n=t.sent,l=n.data,c({type:T,payload:{data:l.items,total:l.total_count}}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),c({type:D});case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}return[function(){return r.data},function(){return r.total},function(){return r.status===C},function(){return r.status===S},function(){return r.status===_},function(){c({type:R,payload:{data:[],total:0}})},function(e){return i.apply(this,arguments)},function(){return m.apply(this,arguments)}]},U=function(){var e=Object(n.useState)(""),t=Object(f.a)(e,2),a=t[0],c=t[1],l=M(a),o=Object(f.a)(l,8),s=o[0],y=o[1],E=o[2],g=o[3],x=o[4],v=o[5],w=o[6],k=o[7];return r.a.createElement("div",{className:"container mx-auto pt-8 w-100 h-100 flex flex-col items-center"},r.a.createElement("div",{className:"px-4 py-8 shadow-lg rounded flex items-center",style:{backgroundColor:"#fff",width:600}},r.a.createElement(i.a.Search,{placeholder:"Search by username",enterButton:!0,value:a,onSearch:w,onChange:function(e){c(e.target.value)}}),r.a.createElement(m.a,{className:"ml-2",icon:r.a.createElement(h.a,null),onClick:function(){c(""),v()}},"Clear")),r.a.createElement(u.a,{size:"large",tip:"Loading",spinning:E(),delay:"200"},r.a.createElement("div",{className:"mt-4 px-4 py-8 shadow-lg rounded overflow-y-auto scroll",style:{backgroundColor:"#fff",width:600,height:"calc(100vh - 170px)"}},r.a.createElement("p",{className:"font-bold mb-6"},"Result found: ",y()),x()?r.a.createElement(p.a,{status:"500",title:"500",subTitle:"Sorry, something went wrong."}):g()?0===y()?r.a.createElement(p.a,{title:"No user found"}):s().map((function(e,t){return r.a.createElement("div",{key:e.id,className:"flex items-center mb-6 pb-6 justify-between",style:{borderBottom:"1px solid #ccc"}},r.a.createElement("div",{className:"flex items-center"},r.a.createElement("p",{className:"mr-8 mb-0"},"#",t+1),r.a.createElement(d.a,{src:e.avatar_url,size:48}),r.a.createElement("div",{className:"ml-4"},r.a.createElement("p",{className:"font-bold text-base mb-0"},e.login),r.a.createElement("a",{href:e.html_url,target:"__blank",className:"text-sm underline"},"Github Link"))),r.a.createElement(m.a,{type:"primary"},r.a.createElement(b.b,{to:"/detail/".concat(e.login)},"Detail")))})):void 0,s().length<y()&&r.a.createElement("div",{className:"w-100 mt-4 flex justify-center"},r.a.createElement(m.a,{type:"primary",onClick:k},"Load More")))))},z=function(){return r.a.createElement("p",null,"Detail page")},B=function(){return r.a.createElement("div",{className:"app w-100 h-screen overflow-hidden",style:{backgroundColor:"#f7f8fe"}},r.a.createElement("div",{className:"flex h-screen"},r.a.createElement("div",{className:"w-64 shadow-2xl flex flex-col justify-center items-center",style:{backgroundColor:"#24292e"}},r.a.createElement("span",{className:"rounded-full inline-block",style:{backgroundColor:"#fff"}},r.a.createElement(s.a,{style:{fontSize:90}})),r.a.createElement("p",{className:"text-xl font-bold text-white mt-4"},"Github User Search")),r.a.createElement("div",{className:"flex flex-grow"},r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:U}),r.a.createElement(o.a,{exact:!0,path:"/detail/:username",component:z})))))};l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(b.a,null,r.a.createElement(B,null))),document.getElementById("root"))}},[[128,1,2]]]);
//# sourceMappingURL=main.e7ff24c0.chunk.js.map