(this["webpackJsonpgithub-search"]=this["webpackJsonpgithub-search"]||[]).push([[6],{242:function(e,t,a){"use strict";a.r(t);a(93);var n=a(128),r=(a(135),a(238)),c=(a(64),a(92)),s=(a(94),a(124)),l=(a(139),a(239)),o=a(63),u=a(0),i=a.n(u),m=a(11),p=a(243),d=a(65),f=a.n(d),b=(a(142),a(237)),h=a(66),y=a(132),g=a(133),E=a(67),v="loading",w="success",O="error",x="LOAD",k="LOAD_SUCCESS",j="LOAD_ERROR",C="LOAD_MORE_SUCCESS",N=function(e,t){switch(t.type){case x:return Object(g.a)({},e,{status:v});case k:return Object(g.a)({},e,{status:w,data:t.payload.data,total:t.payload.total});case j:return Object(g.a)({},e,{status:O});case C:return Object(g.a)({},e,{status:w,data:[].concat(Object(y.a)(e.data),Object(y.a)(t.payload.data)),total:t.payload.total});default:return e}},S=function(e){var t=Object(u.useReducer)(N,{status:w,data:[],total:0}),a=Object(o.a)(t,2),n=a[0],r=a[1],c=Object(u.useState)(null),s=Object(o.a)(c,2),l=s[0],i=s[1];function m(){return(m=Object(h.a)(f.a.mark((function e(t){var a,n,c,s;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,""!==t.trim()){e.next=3;break}return e.abrupt("return",b.a.warning("Please enter some keyword to search"));case 3:return null!==l&&l.cancel(),r({type:x}),a=E.a.CancelToken,n=a.source(),i(n),e.next=10,E.a.get("/search/users?q=".concat(t),{cancelToken:n.token});case 10:c=e.sent,s=c.data,r({type:k,payload:{data:s.items,total:s.total_count}}),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0),r({type:j});case 19:case"end":return e.stop()}}),e,null,[[0,15]])})))).apply(this,arguments)}function p(){return(p=Object(h.a)(f.a.mark((function t(){var a,c,s;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,""!==e.trim()){t.next=3;break}return t.abrupt("return",b.a.warning("Keyword not found"));case 3:return a=Math.floor(n.data.length/30)+1,r({type:x}),t.next=7,E.a.get("/search/users?q=".concat(e,"&page=").concat(a));case 7:c=t.sent,s=c.data,r({type:C,payload:{data:s.items,total:s.total_count}}),t.next=16;break;case 12:t.prev=12,t.t0=t.catch(0),console.log(t.t0),r({type:j});case 16:case"end":return t.stop()}}),t,null,[[0,12]])})))).apply(this,arguments)}return[function(){return n.data},function(){return n.total},function(){return n.status===v},function(){return n.status===w},function(){return n.status===O},function(){r({type:k,payload:{data:[],total:0}})},function(e){return m.apply(this,arguments)},function(){return p.apply(this,arguments)}]};t.default=function(){var e=Object(u.useState)(""),t=Object(o.a)(e,2),a=t[0],d=t[1],f=S(a),b=Object(o.a)(f,8),h=b[0],y=b[1],g=b[2],E=b[3],v=b[4],w=b[5],O=b[6],x=b[7];return Object(u.useEffect)((function(){document.title="Home"}),[]),i.a.createElement("div",{className:"container mx-auto pt-8 w-100 h-100 flex flex-col items-center"},i.a.createElement("div",{className:"px-4 py-8 shadow-lg rounded flex items-center bg-white",style:{width:600}},i.a.createElement(r.a.Search,{placeholder:"Search by username",enterButton:!0,value:a,onSearch:O,onChange:function(e){d(e.target.value)}}),i.a.createElement(c.a,{className:"ml-2",icon:i.a.createElement(p.a,null),onClick:function(){d(""),w()}},"Clear")),i.a.createElement(n.a,{size:"large",tip:"Loading",spinning:g(),delay:"200"},i.a.createElement("div",{className:"mt-4 px-4 py-8 shadow-lg rounded overflow-y-auto scroll bg-white",style:{width:600,height:"calc(100vh - 170px)"}},i.a.createElement("p",{className:"font-bold mb-6"},"Result found: ",y()),v()?i.a.createElement(l.a,{status:"500",title:"500",subTitle:"Sorry, something went wrong."}):E()?0===y()?""===a?i.a.createElement(l.a,{title:"Enter some keyword"}):i.a.createElement(l.a,{title:"No user found"}):h().map((function(e,t){return i.a.createElement("div",{key:e.id,className:"flex items-center mb-6 pb-6 justify-between",style:{borderBottom:"1px solid #ccc"}},i.a.createElement("div",{className:"flex items-center"},i.a.createElement("p",{className:"mr-8 mb-0"},"#",t+1),i.a.createElement(s.a,{src:e.avatar_url,size:48}),i.a.createElement("div",{className:"ml-4"},i.a.createElement("p",{className:"font-bold text-base mb-0"},e.login),i.a.createElement("a",{href:e.html_url,target:"__blank",className:"text-sm underline"},"Github Link"))),i.a.createElement(c.a,{type:"primary"},i.a.createElement(m.b,{to:"/detail/".concat(e.login)},"Detail")))})):void 0,h().length<y()&&i.a.createElement("div",{className:"w-100 mt-4 flex justify-center"},i.a.createElement(c.a,{type:"primary",onClick:x},"Load More")))))}},67:function(e,t,a){"use strict";var n=a(97),r=a.n(n),c=r.a.create({baseURL:"https://api.github.com"});c.CancelToken=r.a.CancelToken,c.isCancel=r.a.isCancel,t.a=c}}]);
//# sourceMappingURL=6.8d02b5a5.chunk.js.map