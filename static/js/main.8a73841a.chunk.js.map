{"version":3,"sources":["utils/axios.js","pages/HomePage/useFetchDataHook.js","pages/HomePage/index.js","pages/DetailPage/useFetchDataHook.js","pages/DetailPage/index.js","App.js","index.js"],"names":["instance","axios","create","baseURL","CancelToken","isCancel","STATUS","TYPE","reducer","state","action","type","status","data","payload","total","useFetchDataHook","keyword","useReducer","dispatch","useState","sourceToken","setSourceToken","value","a","trim","message","warning","cancel","source","get","cancelToken","token","items","total_count","console","log","nextPage","Math","floor","length","HomePage","setKeyword","getData","getTotal","isLoading","isLoadSuccess","isLoadError","clearSearch","handleSearch","handleLoadMore","className","style","width","Search","placeholder","enterButton","onSearch","onChange","e","target","icon","ClearOutlined","onClick","size","tip","spinning","delay","height","title","subTitle","map","user","index","key","id","borderBottom","src","avatar_url","login","href","html_url","to","repos","username","getRepoList","useCallback","getUserInfo","page","params","sort","direction","DetailPage","date","useParams","getUser","getRepos","setData","useEffect","Promise","all","userInfo","repoList","getUserDetail","ArrowLeftOutlined","name","GithubOutlined","HomeOutlined","location","CalendarOutlined","created_at","substr","split","reverse","join","public_repos","repo","description","language","StarFilled","stargazers_count","BranchesOutlined","forks","App","backgroundColor","fontSize","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.8a73841a.chunk.js","sourcesContent":["import axios from 'axios';\n\nconst instance = axios.create({\n    baseURL: 'https://api.github.com'\n});\ninstance.CancelToken = axios.CancelToken;\ninstance.isCancel = axios.isCancel\n\nexport default instance;\n","import { useState, useReducer } from 'react';\nimport { message } from 'antd';\n\nimport axios from 'utils/axios';\n\nconst ITEM_PER_PAGE = 30;\n\nconst STATUS = {\n    LOADING: 'loading',\n    LOAD_SUCCESS: 'success',\n    LOAD_ERROR: 'error',\n}\n\nconst TYPE = {\n    LOAD: 'LOAD',\n    LOAD_SUCCESS: 'LOAD_SUCCESS',\n    LOAD_ERROR: 'LOAD_ERROR',\n    LOAD_MORE_SUCCESS: 'LOAD_MORE_SUCCESS',\n}\n\nconst reducer = (state, action) => {\n    switch (action.type) {\n        case TYPE.LOAD:\n            return {\n                ...state,\n                status: STATUS.LOADING\n            };\n        case TYPE.LOAD_SUCCESS:\n            return {\n                ...state,\n                status: STATUS.LOAD_SUCCESS,\n                data: action.payload.data,\n                total: action.payload.total,\n            }\n        case TYPE.LOAD_ERROR:\n            return {\n                ...state,\n                status: STATUS.LOAD_ERROR,\n            }\n        case TYPE.LOAD_MORE_SUCCESS:\n            return {\n                ...state,\n                status: STATUS.LOAD_SUCCESS,\n                data: [...state.data, ...action.payload.data],\n                total: action.payload.total,\n            }\n        default:\n            return state;\n    }\n}\n\nconst useFetchDataHook = keyword => {\n\n    const [state, dispatch] = useReducer(reducer, {\n        status: STATUS.LOAD_SUCCESS,\n        data: [],\n        total: 0\n    });\n    const [sourceToken, setSourceToken] = useState(null);\n\n    function getData() {\n        return state.data;\n    }\n\n    function getTotal() {\n        return state.total;\n    }\n\n    function isLoading() {\n        return state.status === STATUS.LOADING;\n    }\n\n    function isLoadSuccess() {\n        return state.status === STATUS.LOAD_SUCCESS;\n    }\n\n    function isLoadError() {\n        return state.status === STATUS.LOAD_ERROR;\n    }\n\n    function clearSearch() {\n        dispatch({\n            type: TYPE.LOAD_SUCCESS,\n            payload: {\n                data: [],\n                total: 0\n            }\n        });\n    }\n\n    async function handleSearch(value) {\n        try {\n            if (value.trim() === '') {\n                return message.warning('Please enter some keyword to search');\n            }\n            if (sourceToken !== null) {\n                sourceToken.cancel();\n            }\n            dispatch({ type: TYPE.LOAD });\n            const CancelToken = axios.CancelToken;\n            const source = CancelToken.source();\n            setSourceToken(source);\n            const { data } = await axios.get(`/search/users?q=${value}`, {\n                cancelToken: source.token\n            });\n            dispatch({\n                type: TYPE.LOAD_SUCCESS,\n                payload: {\n                    data: data.items,\n                    total: data.total_count\n                }\n            });\n        } catch (error) {\n            console.log(error);\n            dispatch({ type: TYPE.LOAD_ERROR });\n        }\n    }\n\n    async function handleLoadMore() {\n        try {\n            if (keyword.trim() === '') {\n                return message.warning('Keyword not found');\n            }\n            const nextPage = Math.floor(state.data.length / ITEM_PER_PAGE) + 1;\n            dispatch({ type: TYPE.LOAD });\n            const { data } = await axios.get(`/search/users?q=${keyword}&page=${nextPage}`);\n            dispatch({\n                type: TYPE.LOAD_MORE_SUCCESS,\n                payload: {\n                    data: data.items,\n                    total: data.total_count\n                }\n            });\n        } catch (error) {\n            console.log(error);\n            dispatch({ type: TYPE.LOAD_ERROR });\n        }\n    }\n\n    return [\n        getData,\n        getTotal,\n        isLoading,\n        isLoadSuccess,\n        isLoadError,\n        clearSearch,\n        handleSearch,\n        handleLoadMore\n    ];\n}\n\nexport default useFetchDataHook;\n","import React, { useState } from 'react';\nimport { Link } from \"react-router-dom\";\nimport { Input, Avatar, Button, Spin, Result } from 'antd';\nimport { ClearOutlined } from '@ant-design/icons'\n\nimport useFetchDataHook from './useFetchDataHook'\n\nconst HomePage = () => {\n\n    const [keyword, setKeyword] = useState('');\n    const [\n        getData,\n        getTotal,\n        isLoading,\n        isLoadSuccess,\n        isLoadError,\n        clearSearch,\n        handleSearch,\n        handleLoadMore\n    ] = useFetchDataHook(keyword);\n\n    function handleInputChange(e) {\n        setKeyword(e.target.value)\n    }\n\n    function handleClearSearch() {\n        setKeyword('');\n        clearSearch();\n    }\n\n    function render() {\n        if (isLoadError()) {\n            return <Result status=\"500\" title=\"500\" subTitle=\"Sorry, something went wrong.\" />\n        }\n        if (isLoadSuccess()) {\n            if (getTotal() === 0) {\n                return <Result title=\"No user found\" />\n            } else {\n                return getData().map((user, index) => (\n                    <div key={user.id} className=\"flex items-center mb-6 pb-6 justify-between\" style={{ borderBottom: '1px solid #ccc' }}>\n                        <div className=\"flex items-center\">\n                            <p className=\"mr-8 mb-0\">#{index + 1}</p>\n                            <Avatar src={user.avatar_url} size={48} />\n                            <div className=\"ml-4\">\n                                <p className=\"font-bold text-base mb-0\">\n                                    {user.login}\n                                </p>\n                                <a href={user.html_url} target=\"__blank\" className=\"text-sm underline\">\n                                    Github Link\n                                </a>\n                            </div>\n                        </div>\n                        <Button type=\"primary\">\n                            <Link to={`/detail/${user.login}`}>\n                                Detail\n                            </Link>\n                        </Button>\n                    </div>\n                ));\n            }\n        }\n    }\n\n    return (\n        <div className=\"container mx-auto pt-8 w-100 h-100 flex flex-col items-center\">\n            <div className=\"px-4 py-8 shadow-lg rounded flex items-center bg-white\" style={{ width: 600 }}>\n                <Input.Search\n                    placeholder=\"Search by username\"\n                    enterButton\n                    value={keyword}\n                    onSearch={handleSearch}\n                    onChange={handleInputChange} />\n                <Button\n                    className=\"ml-2\"\n                    icon={<ClearOutlined />}\n                    onClick={handleClearSearch}\n                >\n                    Clear\n                </Button>\n            </div>\n            <Spin size=\"large\" tip=\"Loading\" spinning={isLoading()} delay=\"200\">\n                <div\n                    className=\"mt-4 px-4 py-8 shadow-lg rounded overflow-y-auto scroll bg-white\"\n                    style={{ width: 600, height: 'calc(100vh - 170px)' }}\n                >\n                    <p className=\"font-bold mb-6\">Result found: {getTotal()}</p>\n                    {render()}\n                    {\n                        getData().length < getTotal()\n                        && (\n                            <div className=\"w-100 mt-4 flex justify-center\">\n                                <Button type=\"primary\" onClick={handleLoadMore}>\n                                    Load More\n                                </Button>\n                            </div>\n                        )\n                    }\n                </div>\n            </Spin>\n        </div>\n    );\n}\n\nexport default HomePage\n","import { useReducer, useCallback } from 'react';\n\nconst ITEM_PER_PAGE = 30;\n\nconst STATUS = {\n    LOADING: 'loading',\n    LOAD_SUCCESS: 'success',\n    LOAD_ERROR: 'error',\n}\n\nconst TYPE = {\n    LOAD: 'LOAD',\n    LOAD_SUCCESS: 'LOAD_SUCCESS',\n    LOAD_ERROR: 'LOAD_ERROR',\n    LOAD_MORE_SUCCESS: 'LOAD_MORE_SUCCESS',\n}\n\nconst reducer = (state, action) => {\n    switch (action.type) {\n        case TYPE.LOAD:\n            return {\n                ...state,\n                status: STATUS.LOADING\n            };\n        case TYPE.LOAD_SUCCESS:\n            return {\n                status: STATUS.LOAD_SUCCESS,\n                repos: action.payload.repos,\n                user: action.payload.user\n            }\n        case TYPE.LOAD_ERROR:\n            return {\n                ...state,\n                status: STATUS.LOAD_ERROR,\n            }\n        case TYPE.LOAD_MORE_SUCCESS:\n            return {\n                ...state,\n                status: STATUS.LOAD_SUCCESS,\n                repos: [...state.repos, ...action.payload],\n            }\n        default:\n            return state;\n    }\n}\n\nconst useFetchDataHook = (username, getRepoList) => {\n\n    const [state, dispatch] = useReducer(reducer, {\n        status: STATUS.LOADING,\n        user: null,\n        repos: [],\n    });\n    const setData = useCallback(\n        (user, repos) => dispatch({\n            type: TYPE.LOAD_SUCCESS,\n            payload:  {\n                user,\n                repos\n            },\n        }),\n        [dispatch]\n    );\n\n    function getUser() {\n        return state.user;\n    }\n\n    function getRepos() {\n        return state.repos;\n    }\n\n    function isLoading() {\n        return state.status === STATUS.LOADING;\n    }\n\n    function isLoadSuccess() {\n        return state.status === STATUS.LOAD_SUCCESS;\n    }\n\n    function isLoadError() {\n        return state.status === STATUS.LOAD_ERROR;\n    }\n\n    async function handleLoadMore() {\n        try {\n            const nextPage = Math.floor(state.repos.length / ITEM_PER_PAGE) + 1;\n            dispatch({ type: TYPE.LOAD });\n            const { data } = await getRepoList(username, nextPage);\n            dispatch({\n                type: TYPE.LOAD_MORE_SUCCESS,\n                payload:  data,\n            });\n        } catch (error) {\n            console.log(error);\n            dispatch({ type: TYPE.LOAD_ERROR });\n        }\n    }\n\n    return [\n        getUser,\n        getRepos,\n        isLoading,\n        setData,\n        handleLoadMore,\n        isLoadSuccess,\n        isLoadError,\n    ];\n}\n\nexport default useFetchDataHook;\n","import React, { useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Avatar, Button, Spin } from 'antd';\nimport { Link } from \"react-router-dom\";\nimport {\n    HomeOutlined,\n    GithubOutlined,\n    CalendarOutlined,\n    StarFilled,\n    BranchesOutlined,\n    ArrowLeftOutlined\n} from '@ant-design/icons';\n\nimport axios from 'utils/axios';\nimport useFetchDataHook from './useFetchDataHook';\n\nconst getUserInfo = (username) => {\n    return axios(`/users/${username}`);\n}\n\nconst getRepoList = (username, page = 1) => {\n    return axios(`/users/${username}/repos?page=${page}`, {\n        params: {\n            type: 'owner',\n            sort: 'created',\n            direction: 'asc',\n        }\n    });\n}\n\nconst formatDate = (date) => {\n    if (date && typeof(date) === 'string') {\n        return date.substr(0, 10).split('-').reverse().join('-');\n    }\n    return 'Unknown';\n}\n\nconst DetailPage = () => {\n\n    const { username } = useParams();\n    const [\n        getUser,\n        getRepos,\n        isLoading,\n        setData,\n        handleLoadMore\n    ] = useFetchDataHook(username, getRepoList);\n\n    const user = getUser();\n    const repos = getRepos();\n\n    useEffect(() => {\n        async function getUserDetail() {\n            try {\n                const [userInfo, repoList] = await Promise.all([getUserInfo(username), getRepoList(username)]);\n                setData(userInfo.data, repoList.data);\n            } catch (error) {\n                console.log(error);\n            }\n        }\n        getUserDetail();\n    }, [username, setData]);\n\n    return (\n        <div className=\"container mx-auto pt-8 w-100 h-100 flex flex-col items-center\">\n            <Spin size=\"large\" tip=\"Loading\" spinning={isLoading() && user === null} delay=\"200\">\n                <div\n                    className=\"px-4 py-2 shadow-lg rounded bg-white box-border\"\n                    style={{ width: 600, height: 170 }}\n                >\n                    <Link to=\"/\" className=\"text-black\">\n                        <ArrowLeftOutlined className=\"font-bold text-lg cursor-pointer\" />\n                    </Link>\n                    {\n                        user !== null\n                            ? <div className=\"flex\">\n                                <Avatar size={128} src={user.avatar_url} />\n                                <div className=\"ml-4\">\n                                    <p className=\"text-2xl font-bold mb-2\">{user.name}</p>\n                                    <p className=\"mb-1 flex items-center\">\n                                        <GithubOutlined />\n                                        <span className=\"ml-2 mr-1\">Github:</span>\n                                        {' '}\n                                        <a href={user.html_url} target=\"__blank\">{user.html_url}</a>\n                                    </p>\n                                    <p className=\"mb-1 flex items-center\">\n                                        <HomeOutlined />\n                                        <span className=\"ml-2 mr-1\">Location:</span>\n                                        {' '}\n                                        {user.location}\n                                    </p>\n                                    <p className=\"mb-1 flex items-center\">\n                                        <CalendarOutlined />\n                                        <span className=\"ml-2 mr-1\">Join at:</span>\n                                        {' '}\n                                        {formatDate(user.created_at)}\n                                    </p>\n                                </div>\n                            </div>\n                            : null\n                    }\n                </div>\n            </Spin>\n            <Spin size=\"large\" tip=\"Loading\" spinning={isLoading()} delay=\"200\">\n                <div\n                    className=\"mt-4 px-4 py-4 shadow-lg rounded overflow-y-auto scroll bg-white\"\n                    style={{ width: 600, height: 'calc(100vh - 250px)' }}\n                >\n                    <p className=\"font-bold mb-6\">Public repo: {user?.public_repos || 0}</p>\n                    {\n                        repos.map((repo, index) => (\n                            <div key={repo.id} className=\"mb-3 pb-5 justify-between\" style={{ borderBottom: '1px solid #ccc' }}>\n                                <p className=\"font-bold text-xl mb-2\">\n                                    <a href={repo.html_url} target=\"__blank\">\n                                        #{index + 1} - {repo.name}\n                                    </a>\n                                </p>\n                                <p className=\"text-sm text-gray-600 mb-0\">{repo.description || 'No description'}</p>\n                                <div className=\"mt-5 flex items-center justify-between\">\n                                    {\n                                        repo.language &&\n                                        <p className=\"flex items-center mb-0 mr-6\">\n                                            <span className=\"w-4 h-4 bg-green-600 inline-block rounded-full\" />\n                                            <span className=\"ml-1 text-black\">{repo.language}</span>\n                                        </p>\n                                    }\n                                    <div className=\"flex items-center\">\n                                        <span title=\"Star\" className=\"flex items-center inline-block mr-6\">\n                                            <StarFilled className=\"mr-1\" /> {repo.stargazers_count}\n                                        </span>\n                                        <span title=\"Fork\" className=\"flex items-center inline-block mr-6\">\n                                            <BranchesOutlined className=\"mr-1\" /> {repo.forks}\n                                        </span>\n                                    </div>\n                                </div>\n                            </div>\n                        ))\n                    }\n                    {\n                        repos.length < (user?.public_repos || 0)\n                        && (\n                            <div className=\"w-100 mt-4 flex justify-center\">\n                                <Button type=\"primary\" onClick={handleLoadMore}>\n                                    Load More\n                                </Button>\n                            </div>\n                        )\n                    }\n                </div>\n            </Spin>\n        </div>\n    );\n}\n\nexport default DetailPage\n","import React from 'react';\nimport { Switch, Route } from \"react-router-dom\";\nimport { GithubOutlined } from '@ant-design/icons';\n\nimport 'assets/styles/tailwind.css';\nimport 'assets/styles/app.css';\nimport HomePage from 'pages/HomePage';\nimport DetailPage from 'pages/DetailPage';\n\nconst App = () => {\n    return (\n        <div className=\"app w-100 h-screen overflow-hidden\" style={{ backgroundColor: '#f7f8fe' }}>\n            <div className=\"flex h-screen\">\n                <div className=\"w-64 shadow-2xl flex flex-col justify-center items-center\" style={{backgroundColor: '#24292e'}}>\n                    <span className=\"rounded-full inline-block bg-white\">\n                        <GithubOutlined style={{fontSize: 90}} />\n                    </span>\n                    <p className=\"text-xl font-bold text-white mt-4\">Github User Search</p>\n                </div>\n                <div className=\"flex flex-grow\">\n                    <Switch>\n                        <Route exact path=\"/\" component={HomePage} />\n                        <Route exact path=\"/detail/:username\" component={DetailPage} />\n                    </Switch>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { HashRouter } from \"react-router-dom\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}